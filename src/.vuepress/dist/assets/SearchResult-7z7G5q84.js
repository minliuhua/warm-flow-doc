import{u as U,j as te,k as le,l as M,m as ae,P as re,p as se,q as ie,r as D,s as _,v as ue,x as Y,y as l,z as ne,R as O,A as oe,B as me,C as he,D as de,E as ve,G as ce,o as ge,H as pe,I as ye,J as x,K as Ee,L as we,M as fe,N as P,O as T,Q as Ae}from"./app-StwAkH7n.js";const be=["/","/master/advanced/listener.html","/master/advanced/logicdelete.html","/master/advanced/ormusagetips.html","/master/advanced/permission_handler.html","/master/advanced/tenant.html","/master/advanced/variableStategy.html","/master/enhance/condition_two_open.html","/master/enhance/customstatus.html","/master/enhance/designer_two_open.html","/master/enhance/form.html","/master/enhance/jsonlib.html","/master/enhance/listener_two_open.html","/master/enhance/variableStatey_two_open.html","/master/introduction/companyintegration.html","/master/introduction/getinvolved.html","/master/introduction/introduction.html","/master/introduction/processdemo.html","/master/introduction/projectexample.html","/master/introduction/support.html","/master/other/news.html","/master/other/paidservice.html","/master/other/team.html","/master/other/troubleshooting.html","/master/other/update.html","/master/primary/api.html","/master/primary/collaboration.html","/master/primary/condition.html","/master/primary/config.html","/master/primary/datafillhandler.html","/master/primary/designerIntroduced.html","/master/primary/handler_change.html","/master/primary/processterm.html","/master/primary/started.html","/master/primary/table.html","/master/primary/variable.html","/v1.2.10/guide/api.html","/v1.2.10/guide/config.html","/v1.2.10/guide/customstatus.html","/v1.2.10/guide/datafillhandler.html","/v1.2.10/guide/expression.html","/v1.2.10/guide/flowchart.html","/v1.2.10/guide/form.html","/v1.2.10/guide/jsonlib.html","/v1.2.10/guide/listener.html","/v1.2.10/guide/logicdelete.html","/v1.2.10/guide/ormusagetips.html","/v1.2.10/guide/processdemo.html","/v1.2.10/guide/processrule.html","/v1.2.10/guide/processterm.html","/v1.2.10/guide/started.html","/v1.2.10/guide/table.html","/v1.2.10/guide/tenant.html","/v1.2.10/guide/variable.html","/v1.2.10/guide/variableStategy.html","/v1.3.1/guide/api.html","/v1.3.1/guide/config.html","/v1.3.1/guide/customstatus.html","/v1.3.1/guide/datafillhandler.html","/v1.3.1/guide/designerIntroduced.html","/v1.3.1/guide/expression.html","/v1.3.1/guide/flowchart.html","/v1.3.1/guide/form.html","/v1.3.1/guide/jsonlib.html","/v1.3.1/guide/listener.html","/v1.3.1/guide/logicdelete.html","/v1.3.1/guide/ormusagetips.html","/v1.3.1/guide/processdemo.html","/v1.3.1/guide/processrule.html","/v1.3.1/guide/processterm.html","/v1.3.1/guide/started.html","/v1.3.1/guide/table.html","/v1.3.1/guide/tenant.html","/v1.3.1/guide/variable.html","/v1.3.1/guide/variableStategy.html","/v1.3.0/guide/api.html","/v1.3.0/guide/config.html","/v1.3.0/guide/customstatus.html","/v1.3.0/guide/datafillhandler.html","/v1.3.0/guide/designerIntroduced.html","/v1.3.0/guide/expression.html","/v1.3.0/guide/flowchart.html","/v1.3.0/guide/form.html","/v1.3.0/guide/jsonlib.html","/v1.3.0/guide/listener.html","/v1.3.0/guide/logicdelete.html","/v1.3.0/guide/ormusagetips.html","/v1.3.0/guide/processdemo.html","/v1.3.0/guide/processrule.html","/v1.3.0/guide/processterm.html","/v1.3.0/guide/started.html","/v1.3.0/guide/table.html","/v1.3.0/guide/tenant.html","/v1.3.0/guide/variable.html","/v1.3.0/guide/variableStategy.html","/v1.3.3/guide/api.html","/v1.3.3/guide/config.html","/v1.3.3/guide/customstatus.html","/v1.3.3/guide/datafillhandler.html","/v1.3.3/guide/designerIntroduced.html","/v1.3.3/guide/expression.html","/v1.3.3/guide/flowchart.html","/v1.3.3/guide/form.html","/v1.3.3/guide/jsonlib.html","/v1.3.3/guide/listener.html","/v1.3.3/guide/logicdelete.html","/v1.3.3/guide/ormusagetips.html","/v1.3.3/guide/processdemo.html","/v1.3.3/guide/processrule.html","/v1.3.3/guide/processterm.html","/v1.3.3/guide/started.html","/v1.3.3/guide/table.html","/v1.3.3/guide/tenant.html","/v1.3.3/guide/variable.html","/v1.3.3/guide/variableStategy.html","/v1.3.4/guide/api.html","/v1.3.4/guide/condition.html","/v1.3.4/guide/config.html","/v1.3.4/guide/customstatus.html","/v1.3.4/guide/datafillhandler.html","/v1.3.4/guide/designerIntroduced.html","/v1.3.4/guide/designer_two_open.html","/v1.3.4/guide/expression.html","/v1.3.4/guide/expression_ex.html","/v1.3.4/guide/flowchart.html","/v1.3.4/guide/form.html","/v1.3.4/guide/jsonlib.html","/v1.3.4/guide/listener.html","/v1.3.4/guide/logicdelete.html","/v1.3.4/guide/ormusagetips.html","/v1.3.4/guide/permission_handler.html","/v1.3.4/guide/processdemo.html","/v1.3.4/guide/processrule.html","/v1.3.4/guide/processterm.html","/v1.3.4/guide/started.html","/v1.3.4/guide/table.html","/v1.3.4/guide/tenant.html","/v1.3.4/guide/variable.html","/v1.3.4/guide/variableStategy.html","/v1.3.5/advanced/listener.html","/v1.3.5/advanced/logicdelete.html","/v1.3.5/advanced/ormusagetips.html","/v1.3.5/advanced/permission_handler.html","/v1.3.5/advanced/tenant.html","/v1.3.5/advanced/variableStategy.html","/v1.3.5/enhance/condition_two_open.html","/v1.3.5/enhance/customstatus.html","/v1.3.5/enhance/designer_two_open.html","/v1.3.5/enhance/form.html","/v1.3.5/enhance/jsonlib.html","/v1.3.5/enhance/listener_two_open.html","/v1.3.5/enhance/variableStatey_two_open.html","/v1.3.5/introduction/companyintegration.html","/v1.3.5/introduction/getinvolved.html","/v1.3.5/introduction/introduction.html","/v1.3.5/introduction/processdemo.html","/v1.3.5/introduction/projectexample.html","/v1.3.5/introduction/support.html","/v1.3.5/primary/api.html","/v1.3.5/primary/collaboration.html","/v1.3.5/primary/condition.html","/v1.3.5/primary/config.html","/v1.3.5/primary/datafillhandler.html","/v1.3.5/primary/designerIntroduced.html","/v1.3.5/primary/handler_change.html","/v1.3.5/primary/processterm.html","/v1.3.5/primary/started.html","/v1.3.5/primary/table.html","/v1.3.5/primary/variable.html","/v1.3.5/other/news.html","/v1.3.5/other/paidservice.html","/v1.3.5/other/team.html","/v1.3.5/other/troubleshooting.html","/v1.3.5/other/update.html","/v1.3.1/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/v1.3.0/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/v1.3.3/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/v1.3.4/guide/update/Warm-Flow%E5%8F%91%E5%B8%831.3.4_%20%E6%94%AF%E6%8C%81solon%E5%92%8C%E4%BE%BF%E6%8D%B7%E6%80%A7%E6%8F%90%E5%8D%87.html","/master/other/news/experience/6.html","/master/other/news/news/2.html","/master/other/news/news/3.html","/master/other/news/news/5.html","/master/other/news/upgrade_guide/4.html","/master/other/news/notice/1.html","/v1.3.5/other/news/experience/6.html","/v1.3.5/other/news/news/2.html","/v1.3.5/other/news/news/3.html","/v1.3.5/other/news/news/5.html","/v1.3.5/other/news/notice/1.html","/v1.3.5/other/news/upgrade_guide/4.html","/404.html","/master/advanced/","/master/","/master/enhance/","/master/introduction/","/master/other/","/master/primary/","/v1.2.10/guide/","/v1.2.10/","/v1.3.1/guide/","/v1.3.1/","/v1.3.0/guide/","/v1.3.0/","/v1.3.3/guide/","/v1.3.3/","/v1.3.4/guide/","/v1.3.4/","/v1.3.5/advanced/","/v1.3.5/","/v1.3.5/enhance/","/v1.3.5/introduction/","/v1.3.5/primary/","/v1.3.5/other/","/v1.3.1/guide/update/","/v1.3.0/guide/update/","/v1.3.3/guide/update/","/v1.3.4/guide/update/","/master/other/news/experience/","/master/other/news/","/master/other/news/news/","/master/other/news/upgrade_guide/","/master/other/news/notice/","/v1.3.5/other/news/experience/","/v1.3.5/other/news/","/v1.3.5/other/news/news/","/v1.3.5/other/news/notice/","/v1.3.5/other/news/upgrade_guide/"],Be="SEARCH_PRO_QUERY_HISTORY",y=U(Be,[]),_e=()=>{const{queryHistoryCount:a}=x,r=a>0;return{enabled:r,queryHistory:y,addQueryHistory:s=>{r&&(y.value=Array.from(new Set([s,...y.value.slice(0,a-1)])))},removeQueryHistory:s=>{y.value=[...y.value.slice(0,s),...y.value.slice(s+1)]}}},j=a=>be[a.id]+("anchor"in a?`#${a.anchor}`:""),xe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=x,E=U(xe,[]),He=()=>{const a=$>0;return{enabled:a,resultHistory:E,addResultHistory:r=>{if(a){const s={link:j(r),display:r.display};"header"in r&&(s.header=r.header),E.value=[s,...E.value.slice(0,$-1)]}},removeResultHistory:r=>{E.value=[...E.value.slice(0,r),...E.value.slice(r+1)]}}},Re=a=>{const r=de(),s=M(),H=ve(),u=D(0),A=_(()=>u.value>0),c=ce([]);return ge(()=>{const{search:g,terminate:R}=pe(),w=ye(m=>{const f=m.join(" "),{searchFilter:S=v=>v,splitWord:C,suggestionsFilter:F,...p}=r.value;f?(u.value+=1,g(m.join(" "),s.value,p).then(v=>S(v,f,s.value,H.value)).then(v=>{u.value-=1,c.value=v}).catch(v=>{console.warn(v),u.value-=1,u.value||(c.value=[])})):c.value=[]},x.searchDelay-x.suggestDelay);Y([a,s],([m])=>w(m),{immediate:!0}),Ee(()=>{R()})}),{isSearching:A,results:c}};var Ce=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:r}){const s=le(),H=M(),u=ae(re),{enabled:A,addQueryHistory:c,queryHistory:g,removeQueryHistory:R}=_e(),{enabled:w,resultHistory:m,addResultHistory:f,removeResultHistory:S}=He(),C=A||w,F=se(a,"queries"),{results:p,isSearching:v}=Re(F),i=ie({isQuery:!0,index:0}),h=D(0),d=D(0),I=_(()=>C&&(g.value.length>0||m.value.length>0)),k=_(()=>p.value.length>0),Q=_(()=>p.value[h.value]||null),z=()=>{const{isQuery:e,index:t}=i;t===0?(i.isQuery=!e,i.index=e?m.value.length-1:g.value.length-1):i.index=t-1},G=()=>{const{isQuery:e,index:t}=i;t===(e?g.value.length-1:m.value.length-1)?(i.isQuery=!e,i.index=0):i.index=t+1},J=()=>{h.value=h.value>0?h.value-1:p.value.length-1,d.value=Q.value.contents.length-1},K=()=>{h.value=h.value<p.value.length-1?h.value+1:0,d.value=0},N=()=>{d.value<Q.value.contents.length-1?d.value+=1:K()},V=()=>{d.value>0?d.value-=1:J()},q=e=>e.map(t=>Ae(t)?t:l(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=we[e.index]||"$content",[n,B=""]=fe(t)?t[H.value].split("$content"):t.split("$content");return e.display.map(o=>l("div",q([n,...o,B])))}return e.display.map(t=>l("div",q(t)))},b=()=>{h.value=0,d.value=0,r("updateQuery",""),r("close")},X=()=>A?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},u.value.queryHistory),g.value.map((e,t)=>l("div",{class:["search-pro-result-item",{active:i.isQuery&&i.index===t}],onClick:()=>{r("updateQuery",e)}},[l(P,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},e),l("button",{class:"search-pro-remove-icon",innerHTML:T,onClick:n=>{n.preventDefault(),n.stopPropagation(),R(t)}})]))])):null,Z=()=>w?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},u.value.resultHistory),m.value.map((e,t)=>l(O,{to:e.link,class:["search-pro-result-item",{active:!i.isQuery&&i.index===t}],onClick:()=>{b()}},()=>[l(P,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[e.header?l("div",{class:"content-header"},e.header):null,l("div",e.display.map(n=>q(n)).flat())]),l("button",{class:"search-pro-remove-icon",innerHTML:T,onClick:n=>{n.preventDefault(),n.stopPropagation(),S(t)}})]))])):null;return ue("keydown",e=>{if(a.isFocusing){if(k.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")N();else if(e.key==="Enter"){const t=Q.value.contents[d.value];c(a.queries.join(" ")),f(t),s.push(j(t)),b()}}else if(w){if(e.key==="ArrowUp")z();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=i;i.isQuery?(r("updateQuery",g.value[t]),e.preventDefault()):(s.push(m.value[t].link),b())}}}}),Y([h,d],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>l("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!k.value:!I.value}],id:"search-pro-results"},a.queries.length?v.value?l(ne,{hint:u.value.searching}):k.value?l("ul",{class:"search-pro-result-list"},p.value.map(({title:e,contents:t},n)=>{const B=h.value===n;return l("li",{class:["search-pro-result-list-item",{active:B}]},[l("div",{class:"search-pro-result-title"},e||u.value.defaultTitle),t.map((o,ee)=>{const L=B&&d.value===ee;return l(O,{to:j(o),class:["search-pro-result-item",{active:L,"aria-selected":L}],onClick:()=>{c(a.queries.join(" ")),f(o),b()}},()=>[o.type==="text"?null:l(o.type==="title"?oe:o.type==="heading"?me:he,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[o.type==="text"&&o.header?l("div",{class:"content-header"},o.header):null,l("div",W(o))])])})])})):u.value.emptyResult:C?I.value?[X(),Z()]:u.value.emptyHistory:u.value.emptyResult)}});export{Ce as default};
