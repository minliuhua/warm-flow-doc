import{u as N,v as X,x as T,y as Z,z as ee,A as te,B as le,j as R,D as f,E as l,G as re,w as ae,H as ie,R as D,J as se,K as ne,L as me,M as he,N as oe,O as L,Q as F,S as ve,T as ue,U as de,o as ce,V as pe,W as ge,X as ye,Y as we,Z as M,$ as Ee,a0 as A}from"./app-e3DKOkdu.js";const _e=["/","/master/advanced/chart_manage.html","/master/advanced/listener.html","/master/advanced/logicdelete.html","/master/advanced/node_ext.html","/master/advanced/ormusagetips.html","/master/advanced/permission_handler.html","/master/advanced/tenant.html","/master/advanced/variableStategy.html","/master/enhance/condition_two_open.html","/master/enhance/customstatus.html","/master/enhance/designer_two_open.html","/master/enhance/expression_open.html","/master/enhance/form.html","/master/enhance/jsonlib.html","/master/enhance/listener_two_open.html","/master/enhance/variableStatey_two_open.html","/master/introduction/companyintegration.html","/master/introduction/getinvolved.html","/master/introduction/introduction.html","/master/introduction/license.html","/master/introduction/processdemo.html","/master/introduction/projectexample.html","/master/introduction/support.html","/master/primary/api.html","/master/primary/collaboration.html","/master/primary/condition.html","/master/primary/config.html","/master/primary/datafillhandler.html","/master/primary/designerIntroduced.html","/master/primary/handler_change.html","/master/primary/processterm.html","/master/primary/started.html","/master/primary/table.html","/master/primary/variable.html","/master/other/betweengg-bak.html","/master/other/betweengg.html","/master/other/jionqun.html","/master/other/news.html","/master/other/paidservice.html","/master/other/team.html","/master/other/troubleshooting.html","/master/other/update.html","/master/other/upgrade_guide.html","/v1.3.1/guide/api.html","/v1.3.1/guide/config.html","/v1.3.1/guide/customstatus.html","/v1.3.1/guide/datafillhandler.html","/v1.3.1/guide/designerIntroduced.html","/v1.3.1/guide/expression.html","/v1.3.1/guide/flowchart.html","/v1.3.1/guide/form.html","/v1.3.1/guide/jsonlib.html","/v1.3.1/guide/listener.html","/v1.3.1/guide/logicdelete.html","/v1.3.1/guide/ormusagetips.html","/v1.3.1/guide/processdemo.html","/v1.3.1/guide/processrule.html","/v1.3.1/guide/processterm.html","/v1.3.1/guide/started.html","/v1.3.1/guide/table.html","/v1.3.1/guide/tenant.html","/v1.3.1/guide/variable.html","/v1.3.1/guide/variableStategy.html","/v1.3.0/guide/api.html","/v1.3.0/guide/config.html","/v1.3.0/guide/customstatus.html","/v1.3.0/guide/datafillhandler.html","/v1.3.0/guide/designerIntroduced.html","/v1.3.0/guide/expression.html","/v1.3.0/guide/flowchart.html","/v1.3.0/guide/form.html","/v1.3.0/guide/jsonlib.html","/v1.3.0/guide/listener.html","/v1.3.0/guide/logicdelete.html","/v1.3.0/guide/ormusagetips.html","/v1.3.0/guide/processdemo.html","/v1.3.0/guide/processrule.html","/v1.3.0/guide/processterm.html","/v1.3.0/guide/started.html","/v1.3.0/guide/table.html","/v1.3.0/guide/tenant.html","/v1.3.0/guide/variable.html","/v1.3.0/guide/variableStategy.html","/v1.3.4/guide/api.html","/v1.3.4/guide/condition.html","/v1.3.4/guide/config.html","/v1.3.4/guide/customstatus.html","/v1.3.4/guide/datafillhandler.html","/v1.3.4/guide/designerIntroduced.html","/v1.3.4/guide/designer_two_open.html","/v1.3.4/guide/expression.html","/v1.3.4/guide/expression_ex.html","/v1.3.4/guide/flowchart.html","/v1.3.4/guide/form.html","/v1.3.4/guide/jsonlib.html","/v1.3.4/guide/listener.html","/v1.3.4/guide/logicdelete.html","/v1.3.4/guide/ormusagetips.html","/v1.3.4/guide/permission_handler.html","/v1.3.4/guide/processdemo.html","/v1.3.4/guide/processrule.html","/v1.3.4/guide/processterm.html","/v1.3.4/guide/started.html","/v1.3.4/guide/table.html","/v1.3.4/guide/tenant.html","/v1.3.4/guide/variable.html","/v1.3.4/guide/variableStategy.html","/v1.3.5/enhance/condition_two_open.html","/v1.3.5/enhance/customstatus.html","/v1.3.5/enhance/designer_two_open.html","/v1.3.5/enhance/form.html","/v1.3.5/enhance/jsonlib.html","/v1.3.5/enhance/listener_two_open.html","/v1.3.5/enhance/variableStatey_two_open.html","/v1.3.5/other/news.html","/v1.3.5/other/paidservice.html","/v1.3.5/other/team.html","/v1.3.5/other/troubleshooting.html","/v1.3.5/other/update.html","/v1.3.5/introduction/companyintegration.html","/v1.3.5/introduction/getinvolved.html","/v1.3.5/introduction/introduction.html","/v1.3.5/introduction/processdemo.html","/v1.3.5/introduction/projectexample.html","/v1.3.5/introduction/support.html","/v1.3.5/advanced/listener.html","/v1.3.5/advanced/logicdelete.html","/v1.3.5/advanced/ormusagetips.html","/v1.3.5/advanced/permission_handler.html","/v1.3.5/advanced/tenant.html","/v1.3.5/advanced/variableStategy.html","/v1.3.5/primary/api.html","/v1.3.5/primary/collaboration.html","/v1.3.5/primary/condition.html","/v1.3.5/primary/config.html","/v1.3.5/primary/datafillhandler.html","/v1.3.5/primary/designerIntroduced.html","/v1.3.5/primary/handler_change.html","/v1.3.5/primary/processterm.html","/v1.3.5/primary/started.html","/v1.3.5/primary/table.html","/v1.3.5/primary/variable.html","/v1.3.3/guide/api.html","/v1.3.3/guide/config.html","/v1.3.3/guide/customstatus.html","/v1.3.3/guide/datafillhandler.html","/v1.3.3/guide/designerIntroduced.html","/v1.3.3/guide/expression.html","/v1.3.3/guide/flowchart.html","/v1.3.3/guide/form.html","/v1.3.3/guide/jsonlib.html","/v1.3.3/guide/listener.html","/v1.3.3/guide/logicdelete.html","/v1.3.3/guide/ormusagetips.html","/v1.3.3/guide/processdemo.html","/v1.3.3/guide/processrule.html","/v1.3.3/guide/processterm.html","/v1.3.3/guide/started.html","/v1.3.3/guide/table.html","/v1.3.3/guide/tenant.html","/v1.3.3/guide/variable.html","/v1.3.3/guide/variableStategy.html","/v1.6.6/enhance/condition_two_open.html","/v1.6.6/enhance/customstatus.html","/v1.6.6/enhance/designer_two_open.html","/v1.6.6/enhance/expression_open.html","/v1.6.6/enhance/form.html","/v1.6.6/enhance/jsonlib.html","/v1.6.6/enhance/listener_two_open.html","/v1.6.6/enhance/variableStatey_two_open.html","/v1.6.6/advanced/listener.html","/v1.6.6/advanced/logicdelete.html","/v1.6.6/advanced/ormusagetips.html","/v1.6.6/advanced/permission_handler.html","/v1.6.6/advanced/tenant.html","/v1.6.6/advanced/variableStategy.html","/v1.6.6/introduction/companyintegration.html","/v1.6.6/introduction/getinvolved.html","/v1.6.6/introduction/introduction.html","/v1.6.6/introduction/license.html","/v1.6.6/introduction/processdemo.html","/v1.6.6/introduction/projectexample.html","/v1.6.6/introduction/support.html","/v1.6.6/primary/api.html","/v1.6.6/primary/collaboration.html","/v1.6.6/primary/condition.html","/v1.6.6/primary/config.html","/v1.6.6/primary/datafillhandler.html","/v1.6.6/primary/designerIntroduced.html","/v1.6.6/primary/handler_change.html","/v1.6.6/primary/processterm.html","/v1.6.6/primary/started.html","/v1.6.6/primary/table.html","/v1.6.6/primary/variable.html","/v1.6.6/other/jionqun.html","/v1.6.6/other/news.html","/v1.6.6/other/paidservice.html","/v1.6.6/other/team.html","/v1.6.6/other/troubleshooting.html","/v1.6.6/other/update.html","/v1.6.6/other/upgrade_guide.html","/v1.6.7/advanced/chart_manage.html","/v1.6.7/advanced/listener.html","/v1.6.7/advanced/logicdelete.html","/v1.6.7/advanced/node_ext.html","/v1.6.7/advanced/ormusagetips.html","/v1.6.7/advanced/permission_handler.html","/v1.6.7/advanced/tenant.html","/v1.6.7/advanced/variableStategy.html","/v1.6.7/enhance/condition_two_open.html","/v1.6.7/enhance/customstatus.html","/v1.6.7/enhance/designer_two_open.html","/v1.6.7/enhance/expression_open.html","/v1.6.7/enhance/form.html","/v1.6.7/enhance/jsonlib.html","/v1.6.7/enhance/listener_two_open.html","/v1.6.7/enhance/variableStatey_two_open.html","/v1.6.7/introduction/companyintegration.html","/v1.6.7/introduction/getinvolved.html","/v1.6.7/introduction/introduction.html","/v1.6.7/introduction/license.html","/v1.6.7/introduction/processdemo.html","/v1.6.7/introduction/projectexample.html","/v1.6.7/introduction/support.html","/v1.6.7/other/jionqun.html","/v1.6.7/other/news.html","/v1.6.7/other/paidservice.html","/v1.6.7/other/team.html","/v1.6.7/other/troubleshooting.html","/v1.6.7/other/update.html","/v1.6.7/other/upgrade_guide.html","/v1.6.7/primary/api.html","/v1.6.7/primary/collaboration.html","/v1.6.7/primary/condition.html","/v1.6.7/primary/config.html","/v1.6.7/primary/datafillhandler.html","/v1.6.7/primary/designerIntroduced.html","/v1.6.7/primary/handler_change.html","/v1.6.7/primary/processterm.html","/v1.6.7/primary/started.html","/v1.6.7/primary/table.html","/v1.6.7/primary/variable.html","/v1.3.1/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/v1.3.0/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/v1.3.4/guide/update/Warm-Flow%E5%8F%91%E5%B8%831.3.4_%20%E6%94%AF%E6%8C%81solon%E5%92%8C%E4%BE%BF%E6%8D%B7%E6%80%A7%E6%8F%90%E5%8D%87.html","/v1.3.3/guide/update/%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B8%A6%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BC%95%E6%93%8E.html","/master/other/news/experience/6.html","/master/other/news/upgrade/3.html","/master/other/news/upgrade/4.html","/master/other/news/upgrade/5.html","/master/other/news/upgrade/6.html","/master/other/news/news/1.html","/master/other/news/news/2.html","/v1.3.5/other/news/experience/6.html","/v1.3.5/other/news/news/2.html","/v1.3.5/other/news/news/3.html","/v1.3.5/other/news/news/5.html","/v1.3.5/other/news/upgrade_guide/4.html","/v1.3.5/other/news/notice/1.html","/v1.6.6/other/news/experience/6.html","/v1.6.6/other/news/news/1.html","/v1.6.6/other/news/news/2.html","/v1.6.7/other/news/experience/6.html","/v1.6.7/other/news/news/1.html","/v1.6.7/other/news/news/2.html","/v1.6.6/other/news/upgrade/3.html","/v1.6.6/other/news/upgrade/4.html","/v1.6.6/other/news/upgrade/5.html","/v1.6.7/other/news/upgrade/3.html","/v1.6.7/other/news/upgrade/4.html","/v1.6.7/other/news/upgrade/5.html","/v1.6.7/other/news/upgrade/6.html","/404.html","/master/advanced/","/master/","/master/enhance/","/master/introduction/","/master/primary/","/master/other/","/v1.3.1/guide/","/v1.3.1/","/v1.3.0/guide/","/v1.3.0/","/v1.3.4/guide/","/v1.3.4/","/v1.3.5/enhance/","/v1.3.5/","/v1.3.5/other/","/v1.3.5/introduction/","/v1.3.5/advanced/","/v1.3.5/primary/","/v1.3.3/guide/","/v1.3.3/","/v1.6.6/enhance/","/v1.6.6/","/v1.6.6/advanced/","/v1.6.6/introduction/","/v1.6.6/primary/","/v1.6.6/other/","/v1.6.7/advanced/","/v1.6.7/","/v1.6.7/enhance/","/v1.6.7/introduction/","/v1.6.7/other/","/v1.6.7/primary/","/v1.3.1/guide/update/","/v1.3.0/guide/update/","/v1.3.4/guide/update/","/v1.3.3/guide/update/","/master/other/news/experience/","/master/other/news/","/master/other/news/upgrade/","/master/other/news/news/","/v1.3.5/other/news/experience/","/v1.3.5/other/news/","/v1.3.5/other/news/news/","/v1.3.5/other/news/upgrade_guide/","/v1.3.5/other/news/notice/","/v1.6.6/other/news/experience/","/v1.6.6/other/news/","/v1.6.6/other/news/news/","/v1.6.7/other/news/experience/","/v1.6.7/other/news/","/v1.6.7/other/news/news/","/v1.6.6/other/news/upgrade/","/v1.6.7/other/news/upgrade/"],be="SLIMSEARCH_QUERY_HISTORY",g=M(be,[]),fe=()=>{const{queryHistoryCount:a}=A;return{enabled:a>0,queryHistories:g,addQueryHistory:n=>{g.value=Array.from(new Set([n,...g.value.slice(0,a-1)]))},removeQueryHistory:n=>{g.value=[...g.value.slice(0,n),...g.value.slice(n+1)]}}},k=a=>_e[a.id]+("anchor"in a?`#${a.anchor}`:""),Ae="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:$}=A,y=M(Ae,[]),xe=()=>({enabled:$>0,resultHistories:y,addResultHistory:s=>{{const n={link:k(s),display:s.display};"header"in s&&(n.header=s.header),y.value=[n,...y.value.slice(0,$-1)]}},removeResultHistory:s=>{y.value=[...y.value.slice(0,s),...y.value.slice(s+1)]}}),Be=a=>{const s=ve(),n=T(),x=ue(),m=R(0),w=f(()=>m.value>0),v=de([]);return ce(()=>{const{search:B,terminate:d}=pe(),E=ye(c=>{const{resultsFilter:S=r=>r,querySplitter:p,suggestionsFilter:q,...i}=s.value;c?(m.value+=1,B(c,n.value,i).then(r=>S(r,c,n.value,x.value)).then(r=>{m.value-=1,v.value=r}).catch(r=>{console.warn(r),m.value-=1,m.value||(v.value=[])})):v.value=[]},A.searchDelay-A.suggestDelay,{maxWait:5e3});ge([a,n],([c])=>E(c.join(" "))),we(()=>{d()})}),{isSearching:w,results:v}};var He=N({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:s}){const n=X(),x=T(),m=Z(ee),{addQueryHistory:w,queryHistories:v,removeQueryHistory:B}=fe(),{resultHistories:d,addResultHistory:E,removeResultHistory:c}=xe(),S=te(a,"queries"),{results:p,isSearching:q}=Be(S),i=le({isQuery:!0,index:0}),r=R(0),u=R(0),Q=f(()=>v.value.length>0||d.value.length>0),H=f(()=>p.value.length>0),C=f(()=>p.value[r.value]||null),U=()=>{const{isQuery:e,index:t}=i;t===0?(i.isQuery=!e,i.index=e?d.value.length-1:v.value.length-1):i.index=t-1},O=()=>{const{isQuery:e,index:t}=i;t===(e?v.value.length-1:d.value.length-1)?(i.isQuery=!e,i.index=0):i.index=t+1},P=()=>{r.value=r.value>0?r.value-1:p.value.length-1,u.value=C.value.contents.length-1},Y=()=>{r.value=r.value<p.value.length-1?r.value+1:0,u.value=0},W=()=>{u.value<C.value.contents.length-1?u.value+=1:Y()},V=()=>{u.value>0?u.value-=1:P()},j=e=>e.map(t=>Ee(t)?t:l(t[0],t[1])),z=e=>{if(e.type==="customField"){const t=he[e.index]||"$content",[h,b=""]=oe(t)?t[x.value].split("$content"):t.split("$content");return e.display.map(o=>l("div",j([h,...o,b])))}return e.display.map(t=>l("div",j(t)))},_=()=>{r.value=0,u.value=0,s("updateQuery",""),s("close")},G=()=>l("ul",{class:"slimsearch-result-list"},l("li",{class:"slimsearch-result-list-item"},[l("div",{class:"slimsearch-result-title"},m.value.queryHistory),v.value.map((e,t)=>l("div",{class:["slimsearch-result-item",{active:i.isQuery&&i.index===t}],onClick:()=>{s("updateQuery",e)}},[l(L,{class:"slimsearch-result-type"}),l("div",{class:"slimsearch-result-content"},e),l("button",{class:"slimsearch-remove-icon",innerHTML:F,onClick:h=>{h.preventDefault(),h.stopPropagation(),B(t)}})]))])),J=()=>l("ul",{class:"slimsearch-result-list"},l("li",{class:"slimsearch-result-list-item"},[l("div",{class:"slimsearch-result-title"},m.value.resultHistory),d.value.map((e,t)=>l(D,{to:e.link,class:["slimsearch-result-item",{active:!i.isQuery&&i.index===t}],onClick:()=>{_()}},()=>[l(L,{class:"slimsearch-result-type"}),l("div",{class:"slimsearch-result-content"},[e.header?l("div",{class:"content-header"},e.header):null,l("div",e.display.map(h=>j(h)).flat())]),l("button",{class:"slimsearch-remove-icon",innerHTML:F,onClick:h=>{h.preventDefault(),h.stopPropagation(),c(t)}})]))]));return re("keydown",e=>{if(a.isFocusing){if(H.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")W();else if(e.key==="Enter"){const t=C.value.contents[u.value];w(a.queries.join(" ")),E(t),n.push(k(t)),_()}}else if(e.key==="ArrowUp")U();else if(e.key==="ArrowDown")O();else if(e.key==="Enter"){const{index:t}=i;i.isQuery?(s("updateQuery",v.value[t]),e.preventDefault()):(n.push(d.value[t].link),_())}}}),ae([r,u],()=>{var e;(e=document.querySelector(".slimsearch-result-list-item.active .slimsearch-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>l("div",{class:["slimsearch-result-wrapper",{empty:a.queries.length?!H.value:!Q.value}],id:"slimsearch-results"},a.queries.length?q.value?l(ie,{hint:m.value.searching}):H.value?l("ul",{class:"slimsearch-result-list"},p.value.map(({title:e,contents:t},h)=>{const b=r.value===h;return l("li",{class:["slimsearch-result-list-item",{active:b}]},[l("div",{class:"slimsearch-result-title"},e||m.value.defaultTitle),t.map((o,K)=>{const I=b&&u.value===K;return l(D,{to:k(o),class:["slimsearch-result-item",{active:I,"aria-selected":I}],onClick:()=>{w(a.queries.join(" ")),E(o),_()}},()=>[o.type==="text"?null:l(o.type==="title"?se:o.type==="heading"?ne:me,{class:"slimsearch-result-type"}),l("div",{class:"slimsearch-result-content"},[o.type==="text"&&o.header?l("div",{class:"content-header"},o.header):null,l("div",z(o))])])})])})):m.value.emptyResult:Q.value?[G(),J()]:m.value.emptyHistory)}});export{He as default};
